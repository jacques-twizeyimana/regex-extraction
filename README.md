# Regex Data Extraction & Secure Validation Tool

Hi there! ğŸ‘‹ Welcome to my data extraction tool.

I built this Python utility to solve a common but tricky problem: extracting structured data (like emails and credit cards) from raw, messy text while keeping the system safe from malicious input.

Think of it as a smart filter. It doesn't just find the data you need; it actively looks for "bad actors" like SQL injection attempts or malicious scripts and flags them before they can do any harm.

## ğŸš€ Quick Start

You don't need to install any external librariesâ€”everything runs on standard Python 3.

### Running the Tool

The easiest way to see it in action is to run it against the included sample data:

```bash
# Process the sample input file
python3 regex_extractor.py sample_input.txt
```

This will print a readable report to your console and save a detailed JSON file (`sample_output.json`) with the results.

## ğŸ›  What It Extracts

I've designed regex patterns to reliably identify and extract these six specific data types:

| Data Type           | Example Matches                                       |
| ------------------- | ----------------------------------------------------- |
| **ğŸ“§ Emails**       | `jane.doe@company.com`, `contact+sales@site.org`      |
| **ğŸ”— URLs**         | `https://www.google.com`, `http://localhost:8080/api` |
| **ğŸ“± Phones**       | `(555) 123-4567`, `+1 555-0199`, `123.456.7890`       |
| **ğŸ’³ Credit Cards** | `1234 5678 9012 3456`, `1234-5678-9012-3456`          |
| **ğŸ·ï¸ HTML Tags**    | `<div class="main">`, `<img src="logo.png" />`        |
| **#ï¸âƒ£ Hashtags**     | `#Python`, `#coding_is_fun`                           |

## ğŸ”’ Security First

This isn't just a "find and replace" script. As a developer, I know that input from the wild is rarely trustworthy. Here is how I've engineered this tool to be secure by default:

### 1. Sensitive Data Masking

We never want to log full credit card numbers or user emails in plain text.

- **Credit Cards:** Automatically masked, showing only the last 4 digits (e.g., `**** **** **** 1234`).
- **Emails:** The username is partially hidden to protect user privacy (e.g., `jan***@example.com`).

### 2. Threat Detection

The tool actively scans for patterns that look like attacks. If it sees something suspicious, it flags it in the security report rather than executing or ignoring it.

- **SQL Injection:** Catches attempts like `OR 1=1`, `UNION SELECT`, or `DROP TABLE`.
- **XSS (Cross-Site Scripting):** Blocks `<script>` tags, `javascript:` URIs, and dangerous event handlers like `onload`.

### 3. Safe Output

When printing to the console, all extracted text is sanitized. Special HTML characters are escaped so that a malicious string like `<script>alert(1)</script>` is rendered harmlessly as text, not code.

## ğŸ§  Under the Hood: The Regex Patterns

Here is a look at the actual patterns I used. I've tuned these to balance flexibility (catching real-world formats) with strictness (ignoring garbage).

**Email Address**

```regex
\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b
```

_Why this works:_ It enforces the standard `user@domain.tld` structure, ensuring the top-level domain (like .com or .io) is at least two letters long.

**Secure URLs**

```regex
\bhttps?://(?:www\.)?[a-zA-Z0-9][-a-zA-Z0-9]*(?:\.[a-zA-Z0-9][-a-zA-Z0-9]*)*(?:\.[a-zA-Z]{2,})?(?::\d{1,5})?(?:/[^\s<>"']*)?
```

_Why this works:_ I strictly allow only `http` and `https` protocols. This intentionally rejects dangerous schemes like `javascript:` or `file://` which are common vectors for attacks.

**Credit Cards**

```regex
\b(?:\d{4}[\s-]?){3}\d{4}\b
```

_Why this works:_ It looks for 16 digits, grouped in fours, with optional space or hyphen separators. It is effective for standard card formats.

**Phone Numbers**

```regex
(?:\+1[\s.-]?)?\(?[0-9]{3}\)?[\s.-]?[0-9]{3}[\s.-]?[0-9]{4}\b
```

_Why this works:_ It handles the chaos of phone number formattingâ€”dots, dashes, spaces, parentheses, and even optional country codes (+1).

## ğŸ“‚ Project Structure

- `regex_extractor.py`: The main Python script containing all logic.
- `sample_input.txt`: A test file I created with mixed valid and malicious data to demonstrate the tool's capabilities.
- `sample_output.json`: The structured results generated by the tool.
- `assignment.txt`: The original requirements for this project.

## ğŸ‘¤ Author

**Jacques Twizeyimana**  
Junior Frontend Developer  
_ALU Data Extraction & Secure Validation Assignment_
